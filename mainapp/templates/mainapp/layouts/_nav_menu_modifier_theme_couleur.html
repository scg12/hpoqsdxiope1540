<div id="couleurs" class="dropdown-menu" x-placement="top-start" style="position: absolute; top: 50px; left: 72%; will-change: top, right; width: 100px; padding-right: 0; margin-right: 0">
  
  <div id="changer_theme" class="{% url 'mainapp:modifier_theme' %}" style="padding: 20px;">  
  
    <div class="theme theme-bleu active">
      <!-- datacolor²²sidebar²²theme -->
      <div class="blue²²sidebar-bleu²²bleu">
        <span class="badge badge-blue " data-color="blue"></span>
        <span style="position: relative; top: -6px">Bleu</span>
      </div>      
    </div>

    <div class="theme theme-vert">
      <!-- datacolor²²sidebar²²theme -->
      <div class="green²²sidebar-vert²²vert">
        <span class="badge badge-green" data-color="green"></span>
        <span style="position: relative; top: -6px">Vert</span>
      </div>
    </div>

    <div class="theme theme-violet">
      <!-- datacolor²²sidebar²²theme -->
      <div class="purple²²sidebar-violet²²violet">
        <span class="badge badge-purple" data-color="purple"></span>
        <span style="position: relative; top: -6px">Violet</span>                              
      </div>
    </div>

    <div class="theme theme-rose">
      <!-- datacolor²²sidebar²²theme -->
      <div class="rose²²sidebar-rose²²rose">                              
        <span class="badge badge-rose" data-color="rose"></span>
        <span style="position: relative; top: -6px">Rose</span>
      </div>
    </div>

    <div class="theme theme-jaune">
      <!-- datacolor²²sidebar²²theme -->
      <div class="yellow²²sidebar-jaune²²jaune">
        <span class="badge badge-yellow" data-color="yellow"></span>
        <span style="position: relative; top: -6px">Or</span>
      </div>
    </div>

    <div class="theme theme-turquoise">
      <!-- datacolor²²sidebar²²theme -->
        <div class="turquoise²²sidebar-turquoise²²turquoise">
          <span class="badge badge-turquoise" data-color="turquoise"></span>
        <span style="position: relative; top: -6px">Turquoise</span>
        </div>  
    </div>

    <div class="theme theme-orange">
      <!-- datacolor²²sidebar²²theme -->
      <div class="orange²²sidebar-orange²²orange">                            
          <span class="badge badge-orange" data-color="orange"></span>
          <span style="position: relative; top: -6px">Orange</span>
      </div>
    </div>

   </div>

</div>

<script type="text/javascript">

     $(".theme").click(function(e) {
      alert("message?: DOMString");
        e.stopImmediatePropagation(); 

        var url_action = $("#changer_theme").attr("class");

        classe = $(this).children("div").attr("class");
        tab_element = classe.split("²²");

        data_color = tab_element[0];
        sidebar_class = tab_element[1];
        theme_class = tab_element[2];

        var donnees = data_color + "²²~~" + sidebar_class + "²²~~" + theme_class;

         $.ajax({
             method: 'POST',
             url: url_action,
             data: {
               form_data : donnees,
               csrfmiddlewaretoken: $("input[name='csrfmiddlewaretoken']").val(),
             },
             success: themeSucces,
             error: themeError,
         });


    });


     function themeSucces(data){
        console.log(data);

            $(".sidebar").attr("data-color", data.data_color);
            $(".sidebar").removeClass("sidebar-bleu sidebar-violet sidebar-vert sidebar-orange sidebar-rose sidebar-turquoise sidebar-jaune").addClass(data.sidebar_class);

            $(".btn").removeClass("orange vert violet bleu rose jaune turquoise").addClass(data.theme_class);

            $(".moving-tab").removeClass("orange vert violet bleu rose jaune turquoise").addClass(data.theme_class);

            $(".btn-rond").removeClass("orange vert violet turquoise bleu rose jaune").addClass(data.theme_class);

            $(".loader").removeClass("loader_orange loader_vert loader_violet loader_turquoise loader_bleu loader_rose loader_jaune").addClass("loader_" + data.theme_class);

            $("#navbar-top").removeClass("orange vert violet bleu rose jaune turquoise").addClass(data.theme_class);

        
     }

     function themeError(error){
        console.log(error);
     }



</script>